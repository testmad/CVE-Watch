<template>
  <div id="view-header">
    <div class="view-name">
      {{title}}
    </div>
    <div class="view-info" v-if='isUpdatable'>
      <div class='info-text' v-if='isUpdating'>Last Updated: Updating<span>.</span><span>.</span><span>.</span></div>
      <div class='info-text' v-else>Last Updated: {{this.lastUpdated}}</div>
    </div>
    <div class="view-info" v-else>
      {{info}}
    </div>
  </div>
</template>

<script>
export default {
  name: "view-header",
  props: {
      title: String,
      info: String,
      updatable: Boolean,
      updating: Boolean,
      lastupdate: String
  },
  computed: {
    isUpdating() {
      return this.updating
    },
    isUpdatable() {
      return this.updatable
    },
    lastUpdated() {
      return this.lastupdate
    }
  }
}
</script>

<style scoped>
#view-header {
  padding-left: 10px;
  height: 90px;
  display: flex;
  flex-direction: column;
  align-items: left;
  align-content: center;
  justify-content: center;
  user-select: none;
}

.view-name {
  font-weight: 400;
  font-size: 1.9em;
  color: #909ba4;
  margin-bottom: -1px;
}

.view-info {
  color: #04aec8;
  font-size: 0.9em;
  margin-top: -1px;
  margin-left: 3px;
}

@keyframes blink {
  0% {
    opacity: 0.2;
  }

  20% {
    opacity: 1;
  }

  100% {
    opacity: 0.2;
  }
}

.info-text span {
  animation-name: blink;
  animation-duration: 1.4s;
  animation-iteration-count: infinite;
  animation-fill-mode: both;
}

.info-text span:nth-child(2) {
  animation-delay: 0.2s;
}

.info-text span:nth-child(3) {
  animation-delay: 0.4s;
}

</style>
